---
# Phase 2: Desktop environments (additive only)
# Install COSMIC alongside KDE and make COSMIC the default session in SDDM.
# KDE Plasma must remain installed and selectable.

modules:
  # COSMIC session package: provides /usr/share/wayland-sessions/cosmic.desktop
  - type: dnf
    install:
      packages:
        - cosmic-session

  # Set COSMIC as the default preselected SDDM session (upgrade-safe drop-in)
  - type: files
    files:
      - source: etc/sddm.conf.d/10-default-session.conf
        destination: /etc/sddm.conf.d/10-default-session.conf

